var module$diagramManager={};
(function(){function getActiveDocumentId(){return GLIFFY.editor.getDocumentManager().getActiveDocument().getUrls()["id"]}window.GLIFFY=window.GLIFFY||{};window.GLIFFY.ONLINE=window.GLIFFY.ONLINE||{};window.GLIFFY.ONLINE.INTEGRATION=window.GLIFFY.ONLINE.INTEGRATION||{};window.GLIFFY.ONLINE.INTEGRATION.diagramManager={newDiagram:function(){if(window.GLIFFY.ENV.newDiagramUrl)window.open(window.GLIFFY.ENV.newDiagramUrl);else GliffyApp.templateBrowserController.show()},selectDiagram:function(currentPlugin){GliffyApp.fileOpenBrowserController.show(currentPlugin)},openDiagram:function(openUrl,
successCallback,errorCallback){GLIFFY.PLUGINS.pluginManager.getCurrentDocumentPlugin().open(openUrl,successCallback,errorCallback)},createDiagram:function(document,successCallback,errorCallback){GLIFFY.PLUGINS.pluginManager.getCurrentDocumentPlugin().create(document,successCallback,errorCallback)},saveDiagram:function(document,successCallback,errorCallback){GLIFFY.PLUGINS.pluginManager.getCurrentDocumentPlugin().save(document,successCallback,errorCallback)},exportDiagram:function(command,successCallback,
errorCallback){GLIFFY.PLUGINS.pluginManager.getCurrentDocumentPlugin()["export"](command,successCallback,errorCallback)},getDiagramHistory:function(document,successCallback,errorCallback){window.GLIFFY.API.GET("diagramHistory.json",{query:{diagramId:document.urls.id},success:function(data){successCallback(data)},error:function(xhr,text,error){errorCallback(xhr,text,error)}})},getDiagramList:function(command,successCallback,errorCallback){window.GLIFFY.API.GET("diagrams.json",{success:function(data){var documentList=
[];for(var i=0;i<data.diagrams.length;i++)documentList.push({name:data.diagrams[i].name,lastModified:data.diagrams[i].lastModifiedFriendly,url:data.diagrams[i].urls.open,image:data.diagrams[i].urls.thumbnail});successCallback(documentList)},error:function(xhr,status,error){errorCallback(xhr,status,error)}})},getDiagramContainerList:function(command,successCallback,errorCallback){var documentContainerList=[{name:"Online",url:"#"}];successCallback(documentContainerList)}}})();